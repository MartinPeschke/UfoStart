/*! ufostart 23-05-2013 */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t(function(){t.support.transition=e()})}(window.jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed.bs.alert").remove()}var n=t(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var s=t(r);e&&e.preventDefault(),s.length||(s=n.hasClass("alert")?n:n.parent()),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.on(t.support.transition.end,i):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(window.jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",r=i.data();t+="Text",r.resetText||i.data("resetText",i[n]()),i[n](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),r=n.data("button"),s="object"==typeof i&&i;r||n.data("bs.button",r=new e(this,s)),"toggle"==i?r.toggle():i&&r.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover"},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),r=i||n[e](),s=this.interval,o="next"==e?"left":"right",a="next"==e?"first":"last",l=this;this.sliding=!0,s&&this.pause(),r=r.length?r:this.$element.find(".item")[a]();var u=t.Event("slide.bs.carousel",{relatedTarget:r[0],direction:o});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(u),u.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,n.addClass(o),r.addClass(o),this.$element.one(t.support.transition.end,function(){r.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(u),u.isDefaultPrevented())return;n.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),r=n.data("bs.carousel"),s=t.extend({},e.DEFAULTS,"object"==typeof i&&i),o="string"==typeof i?i:s.slide;r||n.data("bs.carousel",r=new e(this,s)),"number"==typeof i?r.to(i):o?r[o]():s.interval&&r.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n,r=t(this),s=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},s.data(),r.data());s.carousel(o),(n=r.attr("data-slide-to"))&&s.data("bs-carousel").pause().to(n).cycle(),e.preventDefault()})}(window.jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in");if(n&&n.length){var r=n.data("collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show.bs.collapse"),"shown.bs.collapse"),t.support.transition&&this.$element[e](this.$element[0][i])}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=this.dimension();this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide.bs.collapse"),"hidden"),this.$element[e](0)}},e.prototype.reset=function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},e.prototype.transition=function(e,i,n){var r=this,s=function(){"show"==i.type&&r.reset(),r.transitioning=0,r.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,s):s())},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),r=n.data("collapse"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("collapse",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(r).data("collapse")?"toggle":n.data();n[t(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(r).collapse(s)})}(window.jQuery),+function(t){"use strict";function e(){t(n).remove(),t(r).each(function(){i(t(this)).removeClass("open")})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",r="[data-toggle=dropdown]",s=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};s.prototype.toggle=function(){var n=t(this);if(!n.is(".disabled, :disabled")){var r=i(n),s=r.hasClass("open");return e(),s||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),r.toggleClass("open")),n.focus(),!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),o=s.hasClass("open");if(!o||o&&27==e.keyCode)return 27==e.which&&s.find(r).focus(),n.click();var a=t("[role=menu] li:not(.divider):visible a",s);if(a.length){var l=a.index(a.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&a.length-1>l&&l++,~l||(l=0),a.eq(l).focus()}}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",r,s.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",s.prototype.keydown)}(window.jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(){return this[this.isShown?"hide":"show"]()},e.prototype.show=function(){var e=this,i=t.Event("show.bs.modal");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown.bs.modal")}):e.$element.focus().trigger("shown.bs.modal")}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},e.prototype.enforceFocus=function(){t(document).on("focusin.bs.modal",function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this)},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",function(t){27==t.which&&this.hide()},this):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideWithTransition=function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var n=t(this),r=n.data("bs.modal"),s=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);r||n.data("bs.modal",r=new e(this,s)),"string"==typeof i?r[i]():s.show&&r.show()})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(s).one("hide",function(){i.focus()})});var n=t(document.body).on("bs.modal.shown",".modal",function(){n.addClass("modal-open")}).on("bs.modal.hidden",".modal",function(){n.removeClass("modal-open")})}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focus",l="hover"==o?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.enter=function(e){var i=this.getDefaults(),n={};this._options&&t.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)});var r=t(e.currentTarget)[this.type](n).data("bs."+this.type);return r.options.delay&&r.options.delay.show?(clearTimeout(this.timeout),r.hoverState="in",this.timeout=setTimeout(function(){"in"==r.hoverState&&r.show()},r.options.delay.show),void 0):r.show()},e.prototype.leave=function(e){var i=t(e.currentTarget)[this.type](this._options).data("bs."+this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement;i.detach().css({top:0,left:0,display:"block"}),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r,s=this.getPosition(),o=i[0].offsetWidth,a=i[0].offsetHeight;switch(n){case"bottom":r={top:s.top+s.height,left:s.left+s.width/2-o/2};break;case"top":r={top:s.top-a,left:s.left+s.width/2-o/2};break;case"left":r={top:s.top+s.height/2-a/2,left:s.left-o};break;case"right":r={top:s.top+s.height/2-a/2,left:s.left+s.width}}this.applyPlacement(r,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),r=n[0].offsetWidth,s=n[0].offsetHeight;n.offset(t).addClass(e).addClass("in");var o=n[0].offsetWidth,a=n[0].offsetHeight;if("top"==e&&a!=s&&(i=!0,t.top=t.top+s-a),"bottom"==e||"top"==e){var l=0;0>t.left&&(l=-2*t.left,t.left=0,n.offset(t),o=n[0].offsetWidth,a=n[0].offsetHeight),this.replaceArrow(l-r+o,o,"left")}else this.replaceArrow(a-s,a,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var i=this.tip(),n=t.Event("hide.bs."+this.type);return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this._options).data("bs."+this.type):this;i.tip().hasClass("in")?i.hide():i.show()},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tooltip"),s="object"==typeof i&&i;r||n.data("bs.tooltip",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t="function"==typeof this.options.content?this.options.content.call(this.$element[0]):this.options.content;return t||this.$element.attr("data-content")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData(this.type)};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("bs.popover"),s="object"==typeof i&&i;r||n.data("bs.popover",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),+function(t){"use strict";function e(i,n){var r,s=t.proxy(this.process,this),o=t(i).is("body")?t(window):t(i);this.$body=t("body"),this.$scrollElement=o.on("scroll.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(r=t(i).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){this.offsets=t([]),this.targets=t([]);var e=this;this.$body.find(this.selector).map(function(){var i=t(this),n=i.data("target")||i.attr("href"),r=/^#\w/.test(n)&&t(n);return r&&r.length&&[[r.position().top+(!t.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(e>=n)return o!=(t=s.last()[0])&&this.activate(t);for(t=r.length;t--;)o!=s[t]&&e>=r[t]&&(!r[t+1]||r[t+1]>=e)&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),r=n.data("bs.scrollspy"),s="object"==typeof i&&i;r||n.data("bs.scrollspy",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.attr("data-target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(s),!s.isDefaultPrevented()){var o=t(n);this.activate(e.parent("li"),i),this.activate(o,o.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,i,n){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var s=i.find("> .active"),o=n&&t.support.transition&&s.hasClass("fade");o?s.one(t.support.transition.end,r):r(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),r=this.options.offset,s=r.top,o=r.bottom,a="affix affix-top affix-bottom";"object"!=typeof r&&(o=s=r),"function"==typeof s&&(s=r.top()),"function"==typeof o&&(o=r.bottom());var l=null!=this.unpin&&i+this.unpin<=n.top?!1:null!=o&&n.top+this.$element.height()>=e-o?"bottom":null!=s&&s>=i?"top":!1;this.affixed!==l&&(this.affixed=l,this.unpin="bottom"==l?n.top-i:null,this.$element.removeClass(a).addClass("affix"+(l?"-"+l:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),r=n.data("bs.affix"),s="object"==typeof i&&i;r||n.data("bs.affix",r=new e(this,s)),"string"==typeof i&&r[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery),function(){function t(t){var e,i,s,a='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',l="json"==t;if(l||"json-stringify"==t||"json-parse"==t){if("json-stringify"==t||l){if(e="function"==typeof o.stringify&&$){(s=function(){return 1}).toJSON=s;try{e="0"===o.stringify(0)&&"0"===o.stringify(new Number)&&'""'==o.stringify(new String)&&o.stringify(r)===n&&o.stringify(n)===n&&o.stringify()===n&&"1"===o.stringify(s)&&"[1]"==o.stringify([s])&&"[null]"==o.stringify([n])&&"null"==o.stringify(null)&&"[null,null,null]"==o.stringify([n,r,null])&&o.stringify({A:[s,!0,!1,null,"\0\b\n\f\r	"]})==a&&"1"===o.stringify(null,s)&&"[\n 1,\n 2\n]"==o.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o.stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o.stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o.stringify(new Date(-1))}catch(u){e=!1}}if(!l)return e}if("json-parse"==t||l){if("function"==typeof o.parse)try{if(0===o.parse("0")&&!o.parse(!1)&&(s=o.parse(a),i=5==s.A.length&&1==s.A[0])){try{i=!o.parse('"	"')}catch(u){}if(i)try{i=1!=o.parse("01")}catch(u){}}}catch(u){i=!1}if(!l)return i}return e&&i}}var e,i,n,r={}.toString,s="function"==typeof define&&define.amd,o=!s&&"object"==typeof exports&&exports;o||s?"object"==typeof JSON&&JSON?s?o=JSON:(o.stringify=JSON.stringify,o.parse=JSON.parse):s&&(o=this.JSON={}):o=this.JSON||(this.JSON={});var a,l,u,h,c,f,d,p,v,m,g,y,b,F,w,x,$=new Date(-0xc782b5b800cec);try{$=-109252==$.getUTCFullYear()&&0===$.getUTCMonth()&&1==$.getUTCDate()&&10==$.getUTCHours()&&37==$.getUTCMinutes()&&6==$.getUTCSeconds()&&708==$.getUTCMilliseconds()}catch(C){}t("json")||($||(F=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(t,e){return w[e]+365*(t-1970)+F((t-1969+(e=+(e>1)))/4)-F((t-1901+e)/100)+F((t-1601+e)/400)}),(e={}.hasOwnProperty)||(e=function(t){var i,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=r?e=function(t){var e=this.__proto__,i=(this.__proto__=null,t in this);return this.__proto__=e,i}:(i=n.constructor,e=function(t){var e=(this.constructor||i).prototype;return t in this&&!(t in e&&this[t]===e[t])}),n=null,e.call(this,t)}),i=function(t,i){var n,s,o,a,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n;for(o in s)e.call(s,o)&&l++;return n=s=null,l?a=2==l?function(t,i){var n,s={},o="[object Function]"==r.call(t);for(n in t)o&&"prototype"==n||e.call(s,n)||!(s[n]=1)||!e.call(t,n)||i(n)}:function(t,i){var n,s,o="[object Function]"==r.call(t);for(n in t)o&&"prototype"==n||!e.call(t,n)||(s="constructor"===n)||i(n);(s||e.call(t,n="constructor"))&&i(n)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],a=function(t,i){var n,o,a="[object Function]"==r.call(t);for(n in t)a&&"prototype"==n||!e.call(t,n)||i(n);for(o=s.length;n=s[--o];e.call(t,n)&&i(n));}),a(t,i)},t("json-stringify")||(a={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},l=function(t,e){return("000000"+(e||0)).slice(-t)},u=function(t){for(var e,i='"',n=0;e=t.charAt(n);n++)i+='\\"\b\f\n\r	'.indexOf(e)>-1?a[e]:a[e]=" ">e?"\\u00"+l(2,e.charCodeAt(0).toString(16)):e;return i+'"'},h=function(t,s,o,a,c,f,d){var p,v,m,g,y,b,w,$,C,E,_,k,T,D,A,j,S=s[t];if("object"==typeof S&&S)if(p=r.call(S),"[object Date]"!=p||e.call(S,"toJSON"))"function"==typeof S.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||e.call(S,"toJSON"))&&(S=S.toJSON(t));else if(S>-1/0&&1/0>S){if(x){for(g=F(S/864e5),v=F(g/365.2425)+1970-1;g>=x(v+1,0);v++);for(m=F((g-x(v,0))/30.42);g>=x(v,m+1);m++);g=1+g-x(v,m),y=(S%864e5+864e5)%864e5,b=F(y/36e5)%24,w=F(y/6e4)%60,$=F(y/1e3)%60,C=y%1e3}else v=S.getUTCFullYear(),m=S.getUTCMonth(),g=S.getUTCDate(),b=S.getUTCHours(),w=S.getUTCMinutes(),$=S.getUTCSeconds(),C=S.getUTCMilliseconds();S=(0>=v||v>=1e4?(0>v?"-":"+")+l(6,0>v?-v:v):l(4,v))+"-"+l(2,m+1)+"-"+l(2,g)+"T"+l(2,b)+":"+l(2,w)+":"+l(2,$)+"."+l(3,C)+"Z"}else S=null;if(o&&(S=o.call(s,t,S)),null===S)return"null";if(p=r.call(S),"[object Boolean]"==p)return""+S;if("[object Number]"==p)return S>-1/0&&1/0>S?""+S:"null";if("[object String]"==p)return u(S);if("object"==typeof S){for(T=d.length;T--;)if(d[T]===S)throw TypeError();if(d.push(S),E=[],D=f,f+=c,"[object Array]"==p){for(k=0,T=S.length;T>k;A||(A=!0),k++)_=h(k,S,o,a,c,f,d),E.push(_===n?"null":_);j=A?c?"[\n"+f+E.join(",\n"+f)+"\n"+D+"]":"["+E.join(",")+"]":"[]"}else i(a||S,function(t){var e=h(t,S,o,a,c,f,d);e!==n&&E.push(u(t)+":"+(c?" ":"")+e),A||(A=!0)}),j=A?c?"{\n"+f+E.join(",\n"+f)+"\n"+D+"}":"{"+E.join(",")+"}":"{}";return d.pop(),j}},o.stringify=function(t,e,i){var n,s,o,a,l,u;if("function"==typeof e||"object"==typeof e&&e)if("[object Function]"==r.call(e))s=e;else if("[object Array]"==r.call(e))for(o={},a=0,l=e.length;l>a;u=e[a++],("[object String]"==r.call(u)||"[object Number]"==r.call(u))&&(o[u]=1));if(i)if("[object Number]"==r.call(i)){if((i-=i%1)>0)for(n="",i>10&&(i=10);i>n.length;n+=" ");}else"[object String]"==r.call(i)&&(n=10>=i.length?i:i.slice(0,10));return h("",(u={},u[""]=t,u),s,o,n,"",[])}),t("json-parse")||(c=String.fromCharCode,f={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"},d=function(){throw y=b=null,SyntaxError()},p=function(){for(var t,e,i,n,r,s=b,o=s.length;o>y;)if(t=s.charAt(y),"	\r\n ".indexOf(t)>-1)y++;else{if("{}[]:,".indexOf(t)>-1)return y++,t;if('"'==t){for(e="@",y++;o>y;)if(t=s.charAt(y)," ">t)d();else if("\\"==t)if(t=s.charAt(++y),'\\"/btnfr'.indexOf(t)>-1)e+=f[t],y++;else if("u"==t){for(i=++y,n=y+4;n>y;y++)t=s.charAt(y),t>="0"&&"9">=t||t>="a"&&"f">=t||t>="A"&&"F">=t||d();e+=c("0x"+s.slice(i,y))}else d();else{if('"'==t)break;e+=t,y++}if('"'==s.charAt(y))return y++,e;d()}else{if(i=y,"-"==t&&(r=!0,t=s.charAt(++y)),t>="0"&&"9">=t){for("0"==t&&(t=s.charAt(y+1),t>="0"&&"9">=t)&&d(),r=!1;o>y&&(t=s.charAt(y),t>="0"&&"9">=t);y++);if("."==s.charAt(y)){for(n=++y;o>n&&(t=s.charAt(n),t>="0"&&"9">=t);n++);n==y&&d(),y=n}if(t=s.charAt(y),"e"==t||"E"==t){for(t=s.charAt(++y),("+"==t||"-"==t)&&y++,n=y;o>n&&(t=s.charAt(n),t>="0"&&"9">=t);n++);n==y&&d(),y=n}return+s.slice(i,y)}if(r&&d(),"true"==s.slice(y,y+4))return y+=4,!0;if("false"==s.slice(y,y+5))return y+=5,!1;if("null"==s.slice(y,y+4))return y+=4,null;d()}}return"$"},v=function(t){var e,i;if("$"==t&&d(),"string"==typeof t){if("@"==t.charAt(0))return t.slice(1);if("["==t){for(e=[];t=p(),"]"!=t;i||(i=!0))i&&(","==t?(t=p(),"]"==t&&d()):d()),","==t&&d(),e.push(v(t));return e}if("{"==t){for(e={};t=p(),"}"!=t;i||(i=!0))i&&(","==t?(t=p(),"}"==t&&d()):d()),(","==t||"string"!=typeof t||"@"!=t.charAt(0)||":"!=p())&&d(),e[t.slice(1)]=v(p());return e}d()}return t},g=function(t,e,i){var r=m(t,e,i);r===n?delete t[e]:t[e]=r},m=function(t,e,n){var s,o=t[e];if("object"==typeof o&&o)if("[object Array]"==r.call(o))for(s=o.length;s--;)g(o,s,n);
else i(o,function(t){g(o,t,n)});return n.call(t,e,o)},o.parse=function(t,e){var i,n;return y=0,b=t,i=v(p()),"$"!=p()&&d(),y=b=null,e&&"[object Function]"==r.call(e)?m((n={},n[""]=i,n),"",e):i})),s&&define(function(){return o})}.call(this),function(){function t(){try{return a in s&&s[a]}catch(t){return!1}}function e(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(n),u.appendChild(n),n.addBehavior("#default#userData"),n.load(a);var i=t.apply(r,e);return u.removeChild(n),i}}function i(t){return t.replace(f,"___")}var n,r={},s=window,o=s.document,a="localStorage",l="__storejs__";if(r.disabled=!1,r.set=function(){},r.get=function(){},r.remove=function(){},r.clear=function(){},r.transact=function(t,e,i){var n=r.get(t);null==i&&(i=e,e=null),n===void 0&&(n=e||{}),i(n),r.set(t,n)},r.getAll=function(){},r.serialize=function(t){return JSON.stringify(t)},r.deserialize=function(t){if("string"!=typeof t)return void 0;try{return JSON.parse(t)}catch(e){return t||void 0}},t())n=s[a],r.set=function(t,e){return void 0===e?r.remove(t):(n.setItem(t,r.serialize(e)),e)},r.get=function(t){return r.deserialize(n.getItem(t))},r.remove=function(t){n.removeItem(t)},r.clear=function(){n.clear()},r.getAll=function(){for(var t={},e=0;n.length>e;++e){var i=n.key(e);t[i]=r.get(i)}return t};else if(o.documentElement.addBehavior){var u,h;try{h=new ActiveXObject("htmlfile"),h.open(),h.write('<script>document.w=window</script><iframe src="/favicon.ico"></iframe>'),h.close(),u=h.w.frames[0].document,n=u.createElement("div")}catch(c){n=o.createElement("div"),u=o.body}var f=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");r.set=e(function(t,e,n){return e=i(e),void 0===n?r.remove(e):(t.setAttribute(e,r.serialize(n)),t.save(a),n)}),r.get=e(function(t,e){return e=i(e),r.deserialize(t.getAttribute(e))}),r.remove=e(function(t,e){e=i(e),t.removeAttribute(e),t.save(a)}),r.clear=e(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(a);for(var i,n=0;i=e[n];n++)t.removeAttribute(i.name);t.save(a)}),r.getAll=e(function(t){for(var e,n=t.XMLDocument.documentElement.attributes,s={},o=0;e=n[o];++o){var a=i(e.name);s[e.name]=r.deserialize(t.getAttribute(a))}return s})}try{r.set(l,l),r.get(l)!=l&&(r.disabled=!0),r.remove(l)}catch(c){r.disabled=!0}r.enabled=!r.disabled,"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define(r):this.store=r}(),function(){var t=this,e=t._,i={},n=Array.prototype,r=Object.prototype,s=Function.prototype,o=n.push,a=n.slice,l=n.concat,u=r.toString,h=r.hasOwnProperty,c=n.forEach,f=n.map,d=n.reduce,p=n.reduceRight,v=n.filter,m=n.every,g=n.some,y=n.indexOf,b=n.lastIndexOf,F=Array.isArray,w=Object.keys,x=s.bind,$=function(t){return t instanceof $?t:this instanceof $?(this._wrapped=t,void 0):new $(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=$),exports._=$):t._=$,$.VERSION="1.4.4";var C=$.each=$.forEach=function(t,e,n){if(null!=t)if(c&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;s>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var o in t)if($.has(t,o)&&e.call(n,t[o],o,t)===i)return};$.map=$.collect=function(t,e,i){var n=[];return null==t?n:f&&t.map===f?t.map(e,i):(C(t,function(t,r,s){n[n.length]=e.call(i,t,r,s)}),n)};var E="Reduce of empty array with no initial value";$.reduce=$.foldl=$.inject=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return n&&(e=$.bind(e,n)),r?t.reduce(e,i):t.reduce(e);if(C(t,function(t,s,o){r?i=e.call(n,i,t,s,o):(i=t,r=!0)}),!r)throw new TypeError(E);return i},$.reduceRight=$.foldr=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return n&&(e=$.bind(e,n)),r?t.reduceRight(e,i):t.reduceRight(e);var s=t.length;if(s!==+s){var o=$.keys(t);s=o.length}if(C(t,function(a,l,u){l=o?o[--s]:--s,r?i=e.call(n,i,t[l],l,u):(i=t[l],r=!0)}),!r)throw new TypeError(E);return i},$.find=$.detect=function(t,e,i){var n;return _(t,function(t,r,s){return e.call(i,t,r,s)?(n=t,!0):void 0}),n},$.filter=$.select=function(t,e,i){var n=[];return null==t?n:v&&t.filter===v?t.filter(e,i):(C(t,function(t,r,s){e.call(i,t,r,s)&&(n[n.length]=t)}),n)},$.reject=function(t,e,i){return $.filter(t,function(t,n,r){return!e.call(i,t,n,r)},i)},$.every=$.all=function(t,e,n){e||(e=$.identity);var r=!0;return null==t?r:m&&t.every===m?t.every(e,n):(C(t,function(t,s,o){return(r=r&&e.call(n,t,s,o))?void 0:i}),!!r)};var _=$.some=$.any=function(t,e,n){e||(e=$.identity);var r=!1;return null==t?r:g&&t.some===g?t.some(e,n):(C(t,function(t,s,o){return r||(r=e.call(n,t,s,o))?i:void 0}),!!r)};$.contains=$.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):_(t,function(t){return t===e})},$.invoke=function(t,e){var i=a.call(arguments,2),n=$.isFunction(e);return $.map(t,function(t){return(n?e:t[e]).apply(t,i)})},$.pluck=function(t,e){return $.map(t,function(t){return t[e]})},$.where=function(t,e,i){return $.isEmpty(e)?i?null:[]:$[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},$.findWhere=function(t,e){return $.where(t,e,!0)},$.max=function(t,e,i){if(!e&&$.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&$.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return C(t,function(t,r,s){var o=e?e.call(i,t,r,s):t;o>=n.computed&&(n={value:t,computed:o})}),n.value},$.min=function(t,e,i){if(!e&&$.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&$.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return C(t,function(t,r,s){var o=e?e.call(i,t,r,s):t;n.computed>o&&(n={value:t,computed:o})}),n.value},$.shuffle=function(t){var e,i=0,n=[];return C(t,function(t){e=$.random(i++),n[i-1]=n[e],n[e]=t}),n};var k=function(t){return $.isFunction(t)?t:function(e){return e[t]}};$.sortBy=function(t,e,i){var n=k(e);return $.pluck($.map(t,function(t,e,r){return{value:t,index:e,criteria:n.call(i,t,e,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index<e.index?-1:1}),"value")};var T=function(t,e,i,n){var r={},s=k(e||$.identity);return C(t,function(e,o){var a=s.call(i,e,o,t);n(r,a,e)}),r};$.groupBy=function(t,e,i){return T(t,e,i,function(t,e,i){($.has(t,e)?t[e]:t[e]=[]).push(i)})},$.countBy=function(t,e,i){return T(t,e,i,function(t,e){$.has(t,e)||(t[e]=0),t[e]++})},$.sortedIndex=function(t,e,i,n){i=null==i?$.identity:k(i);for(var r=i.call(n,e),s=0,o=t.length;o>s;){var a=s+o>>>1;r>i.call(n,t[a])?s=a+1:o=a}return s},$.toArray=function(t){return t?$.isArray(t)?a.call(t):t.length===+t.length?$.map(t,$.identity):$.values(t):[]},$.size=function(t){return null==t?0:t.length===+t.length?t.length:$.keys(t).length},$.first=$.head=$.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:a.call(t,0,e)},$.initial=function(t,e,i){return a.call(t,0,t.length-(null==e||i?1:e))},$.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},$.rest=$.tail=$.drop=function(t,e,i){return a.call(t,null==e||i?1:e)},$.compact=function(t){return $.filter(t,$.identity)};var D=function(t,e,i){return C(t,function(t){$.isArray(t)?e?o.apply(i,t):D(t,e,i):i.push(t)}),i};$.flatten=function(t,e){return D(t,e,[])},$.without=function(t){return $.difference(t,a.call(arguments,1))},$.uniq=$.unique=function(t,e,i,n){$.isFunction(e)&&(n=i,i=e,e=!1);var r=i?$.map(t,i,n):t,s=[],o=[];return C(r,function(i,n){(e?n&&o[o.length-1]===i:$.contains(o,i))||(o.push(i),s.push(t[n]))}),s},$.union=function(){return $.uniq(l.apply(n,arguments))},$.intersection=function(t){var e=a.call(arguments,1);return $.filter($.uniq(t),function(t){return $.every(e,function(e){return $.indexOf(e,t)>=0})})},$.difference=function(t){var e=l.apply(n,a.call(arguments,1));return $.filter(t,function(t){return!$.contains(e,t)})},$.zip=function(){for(var t=a.call(arguments),e=$.max($.pluck(t,"length")),i=Array(e),n=0;e>n;n++)i[n]=$.pluck(t,""+n);return i},$.object=function(t,e){if(null==t)return{};for(var i={},n=0,r=t.length;r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},$.indexOf=function(t,e,i){if(null==t)return-1;var n=0,r=t.length;if(i){if("number"!=typeof i)return n=$.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,r+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;r>n;n++)if(t[n]===e)return n;return-1},$.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var r=n?i:t.length;r--;)if(t[r]===e)return r;return-1},$.range=function(t,e,i){1>=arguments.length&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=0,s=Array(n);n>r;)s[r++]=t,t+=i;return s},$.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));var i=a.call(arguments,2);return function(){return t.apply(e,i.concat(a.call(arguments)))}},$.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},$.bindAll=function(t){var e=a.call(arguments,1);return 0===e.length&&(e=$.functions(t)),C(e,function(e){t[e]=$.bind(t[e],t)}),t},$.memoize=function(t,e){var i={};return e||(e=$.identity),function(){var n=e.apply(this,arguments);return $.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},$.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},$.defer=function(t){return $.delay.apply($,[t,1].concat(a.call(arguments,1)))},$.throttle=function(t,e){var i,n,r,s,o=0,a=function(){o=new Date,r=null,s=t.apply(i,n)};return function(){var l=new Date,u=e-(l-o);return i=this,n=arguments,0>=u?(clearTimeout(r),r=null,o=l,s=t.apply(i,n)):r||(r=setTimeout(a,u)),s}},$.debounce=function(t,e,i){var n,r;return function(){var s=this,o=arguments,a=function(){n=null,i||(r=t.apply(s,o))},l=i&&!n;return clearTimeout(n),n=setTimeout(a,e),l&&(r=t.apply(s,o)),r}},$.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},$.wrap=function(t,e){return function(){var i=[t];return o.apply(i,arguments),e.apply(this,i)}},$.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},$.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},$.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)$.has(t,i)&&(e[e.length]=i);return e},$.values=function(t){var e=[];for(var i in t)$.has(t,i)&&e.push(t[i]);return e},$.pairs=function(t){var e=[];for(var i in t)$.has(t,i)&&e.push([i,t[i]]);return e},$.invert=function(t){var e={};for(var i in t)$.has(t,i)&&(e[t[i]]=i);return e},$.functions=$.methods=function(t){var e=[];for(var i in t)$.isFunction(t[i])&&e.push(i);return e.sort()},$.extend=function(t){return C(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},$.pick=function(t){var e={},i=l.apply(n,a.call(arguments,1));return C(i,function(i){i in t&&(e[i]=t[i])}),e},$.omit=function(t){var e={},i=l.apply(n,a.call(arguments,1));for(var r in t)$.contains(i,r)||(e[r]=t[r]);return e},$.defaults=function(t){return C(a.call(arguments,1),function(e){if(e)for(var i in e)null==t[i]&&(t[i]=e[i])}),t},$.clone=function(t){return $.isObject(t)?$.isArray(t)?t.slice():$.extend({},t):t},$.tap=function(t,e){return e(t),t};var A=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof $&&(t=t._wrapped),e instanceof $&&(e=e._wrapped);var r=u.call(t);if(r!=u.call(e))return!1;switch(r){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var s=i.length;s--;)if(i[s]==t)return n[s]==e;i.push(t),n.push(e);var o=0,a=!0;if("[object Array]"==r){if(o=t.length,a=o==e.length)for(;o--&&(a=A(t[o],e[o],i,n)););}else{var l=t.constructor,h=e.constructor;if(l!==h&&!($.isFunction(l)&&l instanceof l&&$.isFunction(h)&&h instanceof h))return!1;for(var c in t)if($.has(t,c)&&(o++,!(a=$.has(e,c)&&A(t[c],e[c],i,n))))break;if(a){for(c in e)if($.has(e,c)&&!o--)break;a=!o}}return i.pop(),n.pop(),a};$.isEqual=function(t,e){return A(t,e,[],[])},$.isEmpty=function(t){if(null==t)return!0;if($.isArray(t)||$.isString(t))return 0===t.length;for(var e in t)if($.has(t,e))return!1;return!0},$.isElement=function(t){return!(!t||1!==t.nodeType)},$.isArray=F||function(t){return"[object Array]"==u.call(t)},$.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){$["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),$.isArguments(arguments)||($.isArguments=function(t){return!(!t||!$.has(t,"callee"))}),$.isFunction=function(t){return"function"==typeof t},$.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},$.isNaN=function(t){return $.isNumber(t)&&t!=+t},$.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},$.isNull=function(t){return null===t},$.isUndefined=function(t){return void 0===t},$.has=function(t,e){return h.call(t,e)},$.noConflict=function(){return t._=e,this},$.identity=function(t){return t},$.times=function(t,e,i){for(var n=Array(t),r=0;t>r;r++)n[r]=e.call(i,r);return n},$.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};j.unescape=$.invert(j.escape);var S={escape:RegExp("["+$.keys(j.escape).join("")+"]","g"),unescape:RegExp("("+$.keys(j.unescape).join("|")+")","g")};$.each(["escape","unescape"],function(t){$[t]=function(e){return null==e?"":(""+e).replace(S[t],function(e){return j[t][e]})}}),$.result=function(t,e){if(null==t)return null;var i=t[e];return $.isFunction(i)?i.call(t):i},$.mixin=function(t){C($.functions(t),function(e){var i=$[e]=t[e];$.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),N.call(this,i.apply($,t))}})};var O=0;$.uniqueId=function(t){var e=++O+"";return t?t+e:e},$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;$.template=function(t,e,i){var n;i=$.defaults({},i,$.templateSettings);var r=RegExp([(i.escape||M).source,(i.interpolate||M).source,(i.evaluate||M).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(r,function(e,i,n,r,a){return o+=t.slice(s,a).replace(R,function(t){return"\\"+P[t]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),s=a+e.length,e}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=Function(i.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return n(e,$);var l=function(t){return n.call(this,t,$)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},$.chain=function(t){return $(t).chain()};var N=function(t){return this._chain?$(t).chain():t};$.mixin($),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];$.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],N.call(this,i)}}),C(["concat","join","slice"],function(t){var e=n[t];$.prototype[t]=function(){return N.call(this,e.apply(this._wrapped,arguments))}}),$.extend($.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var t,e=this,i=e.Backbone,n=[],r=n.push,s=n.slice,o=n.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var a=e._;a||"undefined"==typeof require||(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var l=t.Events={on:function(t,e,i){if(!h(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!h(this,"once",t,[e,i])||!e)return this;var n=this,r=a.once(function(){n.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,i)},off:function(t,e,i){var n,r,s,o,l,u,c,f;if(!this._events||!h(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(o=t?[t]:a.keys(this._events),l=0,u=o.length;u>l;l++)if(t=o[l],s=this._events[t]){if(this._events[t]=n=[],e||i)for(c=0,f=s.length;f>c;c++)r=s[c],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&n.push(r);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!h(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&c(i,e),n&&c(n,arguments),this},stopListening:function(t,e,i){var n=this._listeners;if(!n)return this;var r=!e&&!i;"object"==typeof e&&(i=this),t&&((n={})[t._listenerId]=t);for(var s in n)n[s].off(e,i,this),r&&delete this._listeners[s];return this}},u=/\s+/,h=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)t[e].apply(t,[r,i[r]].concat(n));return!1}if(u.test(i)){for(var s=i.split(u),o=0,a=s.length;a>o;o++)t[e].apply(t,[s[o]].concat(n));return!1}return!0},c=function(t,e){var i,n=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;r>++n;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;r>++n;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;r>++n;)(i=t[n]).callback.call(i.ctx,s,o);return;case 3:for(;r>++n;)(i=t[n]).callback.call(i.ctx,s,o,a);return;default:for(;r>++n;)(i=t[n]).callback.apply(i.ctx,e)}},f={listenTo:"on",listenToOnce:"once"};a.each(f,function(t,e){l[e]=function(e,i,n){var r=this._listeners||(this._listeners={}),s=e._listenerId||(e._listenerId=a.uniqueId("l"));return r[s]=e,"object"==typeof i&&(n=this),e[t](i,n,this),this}}),l.bind=l.on,l.unbind=l.off,a.extend(t,l);var d=t.Model=function(t,e){var i,n=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(e,p)),e.parse&&(n=this.parse(n,e)||{}),(i=a.result(this,"defaults"))&&(n=a.defaults({},n,i)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},p=["url","urlRoot","collection"];a.extend(d.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var n,r,s,o,l,u,h,c;if(null==t)return this;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;s=i.unset,l=i.silent,o=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=a.clone(this.attributes),this.changed={}),c=this.attributes,h=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(n in r)e=r[n],a.isEqual(c[n],e)||o.push(n),a.isEqual(h[n],e)?delete this.changed[n]:this.changed[n]=e,s?delete c[n]:c[n]=e;if(!l){o.length&&(this._pending=!0);for(var f=0,d=o.length;d>f;f++)this.trigger("change:"+o[f],this,c[o[f]],i)}if(u)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,i=!1,n=this._changing?this._previousAttributes:this.attributes;for(var r in t)a.isEqual(n[r],e=t[r])||((i||(i={}))[r]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),e.trigger("sync",e,n,t),void 0):!1},N(this,t),this.sync("read",this,t)},save:function(t,e,i){var n,r,s,o=this.attributes;if(null==t||"object"==typeof t?(n=t,i=e):(n={})[t]=e,!(!n||i&&i.wait||this.set(n,i)))return!1;if(i=a.extend({validate:!0},i),!this._validate(n,i))return!1;n&&i.wait&&(this.attributes=a.extend({},o,n)),void 0===i.parse&&(i.parse=!0);var l=this,u=i.success;return i.success=function(t){l.attributes=o;var e=l.parse(t,i);return i.wait&&(e=a.extend(n||{},e)),a.isObject(e)&&!l.set(e,i)?!1:(u&&u(l,t,i),l.trigger("sync",l,t,i),void 0)},N(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"===r&&(i.attrs=n),s=this.sync(r,this,i),n&&i.wait&&(this.attributes=o),s},destroy:function(t){t=t?a.clone(t):{};var e=this,i=t.success,n=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(r){(t.wait||e.isNew())&&n(),i&&i(e,r,t),e.isNew()||e.trigger("sync",e,r,t)},this.isNew())return t.success(),!1;N(this,t);var r=this.sync("delete",this,t);return t.wait||n(),r},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||R();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,a.extend(e||{},{validationError:i})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];a.each(v,function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}});var m=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(m.prototype,l,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.defaults(e||{},y))},remove:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var i,n,r,s;for(i=0,n=t.length;n>i;i++)s=this.get(t[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),this._removeReference(s));return this},set:function(t,e){e=a.defaults(e||{},g),e.parse&&(t=this.parse(t,e)),a.isArray(t)||(t=t?[t]:[]);var i,n,s,l,u,h=e.at,c=this.comparator&&null==h&&e.sort!==!1,f=a.isString(this.comparator)?this.comparator:null,d=[],p=[],v={};for(i=0,n=t.length;n>i;i++)(s=this._prepareModel(t[i],e))&&((l=this.get(s))?(e.remove&&(v[l.cid]=!0),e.merge&&(l.set(s.attributes,e),c&&!u&&l.hasChanged(f)&&(u=!0))):e.add&&(d.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)));if(e.remove){for(i=0,n=this.length;n>i;++i)v[(s=this.models[i]).cid]||p.push(s);p.length&&this.remove(p,e)}if(d.length&&(c&&(u=!0),this.length+=d.length,null!=h?o.apply(this.models,[h,0].concat(d)):r.apply(this.models,d)),u&&this.sort({silent:!0}),e.silent)return this;for(i=0,n=d.length;n>i;i++)(s=d[i]).trigger("add",s,this,e);return u&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models,this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,i){e||(e=this.comparator);var n=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,n,i)},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},N(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,n=e.success;return e.success=function(r){e.wait&&i.add(t,e),n&&n(t,r,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return i._validate(t,e)?i:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(t){m.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}});var F=["groupBy","countBy","sortBy"];a.each(F,function(t){m.prototype[t]=function(e,i){var n=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,n,i)}});var w=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,$=["model","collection","el","id","attributes","className","tagName","events"];a.extend(w.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(a.isFunction(i)||(i=this[t[e]]),i){var n=e.match(x),r=n[1],s=n[2];i=a.bind(i,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,$)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var i=t.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,n){var r=C[e];a.defaults(n||(n={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(n.url||(s.url=a.result(i,"url")||R()),null!=n.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(n.attrs||i.toJSON(n))),n.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),n.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",n.emulateJSON&&(s.data._method=r);var o=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===s.type||n.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=n.xhr=t.ajax(a.extend(s,n));return i.trigger("request",i,l,n),l};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},_=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,T=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(E.prototype,l,{initialize:function(){},route:function(e,i,n){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(i)&&(n=i,i=""),n||(n=this[i]);var r=this;return t.history.route(e,function(s){var o=r._extractParameters(e,s);n&&n.apply(r,o),r.trigger.apply(r,["route:"+i].concat(o)),r.trigger("route",i,o),t.history.trigger("route",r,i,o)}),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(_,"(?:$1)?").replace(k,function(t,e){return e?t:"([^/]+)"}).replace(T,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return a.map(i,function(t){return t?decodeURIComponent(t):null})}});var A=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,S=/^\/+|\/+$/g,O=/msie [\w.]+/,M=/\/$/;A.started=!1,a.extend(A.prototype,l,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(M,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(j,"")},start:function(e){if(A.started)throw Error("Backbone.history has already been started");A.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),n=document.documentMode,r=O.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(S,"/"),r&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;
var s=this.location,o=s.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&s.hash&&(this.fragment=this.getHash().replace(j,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),i=a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return i},navigate:function(t,e){if(!A.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),t.history=new A;var P=function(t,e){var i,n=this;i=t&&a.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},a.extend(i,n,e);var r=function(){this.constructor=i};return r.prototype=n.prototype,i.prototype=new r,t&&a.extend(i.prototype,t),i.__super__=n.prototype,i};d.extend=m.extend=E.extend=w.extend=A.extend=P;var R=function(){throw Error('A "url" property or function must be specified')},N=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}}}.call(this),!function(t){"use strict";var e=function(t){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."},this.init(t)};e.prototype={constructor:e,validators:{notnull:function(t){return t.length>0},notblank:function(t){return"string"==typeof t&&""!==t.replace(/^\s+/g,"").replace(/\s+$/g,"")},required:function(t){if("object"==typeof t){for(var e in t)if(this.required(t[e]))return!0;return!1}return this.notnull(t)&&this.notblank(t)},type:function(t,e){var i;switch(e){case"number":i=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":i=/^\d+$/;break;case"alphanum":i=/^\w+$/;break;case"email":i=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;break;case"url":t=RegExp("(https?|s?ftp|git)","i").test(t)?t:"http://"+t;case"urlstrict":i=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":i=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":i=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==t?i.test(t):!1},regexp:function(t,e,i){return RegExp(e,i.options.regexpFlag||"").test(t)},minlength:function(t,e){return t.length>=e},maxlength:function(t,e){return e>=t.length},rangelength:function(t,e){return this.minlength(t,e[0])&&this.maxlength(t,e[1])},min:function(t,e){return Number(t)>=e},max:function(t,e){return e>=Number(t)},range:function(t,e){return t>=e[0]&&e[1]>=t},equalto:function(e,i,n){return n.options.validateIfUnchanged=!0,e===t(i).val()},remote:function(e,i,n){var r=null,s={},o={};s[n.$element.attr("name")]=e,n.options.remoteDatatype!==void 0&&(o={dataType:n.options.remoteDatatype});var a=function(e,i){i!==void 0&&n.Validator.messages.remote!==void 0&&i!==n.Validator.messages.remote&&t(n.ulError+" .remote").remove(),n.updtConstraint({name:"remote",valid:e},i),n.manageValidationResult()},l=function(e){if("object"==typeof e)return e;try{e=t.parseJSON(e)}catch(i){}return e},u=function(t){return"object"==typeof t&&null!==t?t.error!==void 0?t.error:t.message!==void 0?t.message:null:null};return t.ajax(t.extend({},{url:i,data:s,type:n.options.remoteMethod||"GET",success:function(t){t=l(t),a(1===t||!0===t||"object"==typeof t&&null!==t&&t.success!==void 0,u(t))},error:function(t){t=l(t),a(!1,u(t))}},o)),r},mincheck:function(t,e){return this.minlength(t,e)},maxcheck:function(t,e){return this.maxlength(t,e)},rangecheck:function(t,e){return this.rangelength(t,e)}},init:function(t){var e,i=t.validators,n=t.messages;for(e in i)this.addValidator(e,i[e]);for(e in n)this.addMessage(e,n[e])},formatMesssage:function(t,e){if("object"==typeof e){for(var i in e)t=this.formatMesssage(t,e[i]);return t}return"string"==typeof t?t.replace(RegExp("%s","i"),e):""},addValidator:function(t,e){this.validators[t]=e},addMessage:function(t,e,i){if(i!==void 0&&!0===i)return this.messages.type[t]=e,void 0;if("type"!==t)this.messages[t]=e;else for(var n in e)this.messages.type[n]=e[n]}};var i=function(t,i,n){return this.options=i,this.Validator=new e(i),"ParsleyFieldMultiple"===n?this:(this.init(t,n||"ParsleyField"),void 0)};i.prototype={constructor:i,init:function(e,i){this.type=i,this.valid=!0,this.element=e,this.validatedOnce=!1,this.$element=t(e),this.val=this.$element.val(),this.isRequired=!1,this.constraints={},this.isRadioOrCheckbox===void 0&&(this.isRadioOrCheckbox=!1,this.hash=this.generateHash(),this.errorClassHandler=this.options.errors.classHandler(e,this.isRadioOrCheckbox)||this.$element),this.ulErrorManagement(),this.bindHtml5Constraints(),this.addConstraints(),this.hasConstraints()&&this.bindValidationEvents()},setParent:function(e){this.$parent=t(e)},getParent:function(){return this.$parent},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.prop("required"))&&(this.options.required=!0),this.$element.attr("type")!==void 0&&RegExp(this.$element.attr("type"),"i").test("email url number range")&&(this.options.type=this.$element.attr("type"),RegExp(this.options.type,"i").test("number range")&&(this.options.type="number",this.$element.attr("min")!==void 0&&this.$element.attr("min").length&&(this.options.min=this.$element.attr("min")),this.$element.attr("max")!==void 0&&this.$element.attr("max").length&&(this.options.max=this.$element.attr("max")))),"string"==typeof this.$element.attr("pattern")&&this.$element.attr("pattern").length&&(this.options.regexp=this.$element.attr("pattern"))},addConstraints:function(){for(var t in this.options){var e={};e[t]=this.options[t],this.addConstraint(e,!0)}},addConstraint:function(t,e){for(var i in t)i=i.toLowerCase(),"function"==typeof this.Validator.validators[i]&&(this.constraints[i]={name:i,requirements:t[i],valid:null},"required"===i&&(this.isRequired=!0),this.addCustomConstraintMessage(i));e===void 0&&this.bindValidationEvents()},updateConstraint:function(t,e){for(var i in t)this.updtConstraint({name:i,requirements:t[i],valid:null},e)},updtConstraint:function(e,i){this.constraints[e.name]=t.extend(!0,this.constraints[e.name],e),"string"==typeof i&&(this.Validator.messages[e.name]=i),this.bindValidationEvents()},removeConstraint:function(t){var t=t.toLowerCase();return delete this.constraints[t],"required"===t&&(this.isRequired=!1),this.hasConstraints()?(this.bindValidationEvents(),void 0):"ParsleyForm"==typeof this.getParent()?(this.getParent().removeItem(this.$element),void 0):(this.destroy(),void 0)},addCustomConstraintMessage:function(t){var e=t+("type"===t&&this.options[t]!==void 0?this.options[t].charAt(0).toUpperCase()+this.options[t].substr(1):"")+"Message";this.options[e]!==void 0&&this.Validator.addMessage("type"===t?this.options[t]:t,this.options[e],"type"===t)},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type),this.options.remote&&!RegExp("change","i").test(this.options.trigger)&&(this.options.trigger=this.options.trigger?" change":"change");var e=(this.options.trigger?this.options.trigger:"")+(RegExp("key","i").test(this.options.trigger)?"":" keyup");this.$element.is("select")&&(e+=RegExp("change","i").test(e)?"":" change"),e=e.replace(/^\s+/g,"").replace(/\s+$/g,""),this.$element.on((e+" ").split(" ").join("."+this.type+" "),!1,t.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return this.$element.data("value")||this.$element.val()},eventValidation:function(t){var e=this.getVal();return"keyup"!==t.type||/keyup/i.test(this.options.trigger)||this.validatedOnce?"change"!==t.type||/change/i.test(this.options.trigger)||this.validatedOnce?!this.isRadioOrCheckbox&&e.length<this.options.validationMinlength&&!this.validatedOnce?!0:(this.validate(),void 0):!0:!0},isValid:function(){return this.validate(!1)},hasConstraints:function(){for(var t in this.constraints)return!0;return!1},validate:function(t){var e=this.getVal(),i=null;return this.hasConstraints()?this.options.listeners.onFieldValidate(this.element,this)||""===e&&!this.isRequired?(this.reset(),null):this.needsValidation(e)?(i=this.applyValidators(),(t!==void 0?t:this.options.showErrors)&&this.manageValidationResult(),i):this.valid:null},needsValidation:function(t){return!this.options.validateIfUnchanged&&null!==this.valid&&this.val===t&&this.validatedOnce?!1:(this.val=t,this.validatedOnce=!0)},applyValidators:function(){var t=null;for(var e in this.constraints){var i=this.Validator.validators[this.constraints[e].name](this.val,this.constraints[e].requirements,this);!1===i?(t=!1,this.constraints[e].valid=t,this.options.listeners.onFieldError(this.element,this.constraints,this)):!0===i&&(this.constraints[e].valid=!0,t=!1!==t,this.options.listeners.onFieldSuccess(this.element,this.constraints,this))}return t},manageValidationResult:function(){var t=null;for(var e in this.constraints)!1===this.constraints[e].valid?(this.manageError(this.constraints[e]),t=!1):!0===this.constraints[e].valid&&(this.removeError(this.constraints[e].name),t=!1!==t);return this.valid=t,!0===this.valid?(this.removeErrors(),this.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass),!0):!1===this.valid?(this.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass),!1):t},ulErrorManagement:function(){this.ulError="#"+this.hash,this.ulTemplate=t(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(e){var i=this.ulError+" ."+e,n=this;this.options.animate?t(i).fadeOut(this.options.animateDuration,function(){t(this).remove(),n.ulError&&0===t(n.ulError).children().length&&n.removeErrors()}):t(i).remove(),this.ulError&&0===t(this.ulError).children().length&&this.removeErrors()},addError:function(e){for(var i in e){var n=t(this.options.errors.errorElem).addClass(i);t(this.ulError).append(this.options.animate?t(n).html(e[i]).hide().fadeIn(this.options.animateDuration):t(n).html(e[i]))}},removeErrors:function(){this.options.animate?t(this.ulError).fadeOut(this.options.animateDuration,function(){t(this).remove()}):t(this.ulError).remove()},reset:function(){this.valid=null,this.removeErrors(),this.validatedOnce=!1,this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);for(var t in this.constraints)this.constraints[t].valid=null;return this},manageError:function(e){if(t(this.ulError).length||this.manageErrorContainer(),!("required"===e.name&&null!==this.getVal()&&this.getVal().length>0||this.isRequired&&"required"!==e.name&&(null===this.getVal()||0===this.getVal().length))){var i=e.name,n=!1!==this.options.errorMessage?"custom-error-message":i,r={},s=!1!==this.options.errorMessage?this.options.errorMessage:"type"===e.name?this.Validator.messages[i][e.requirements]:this.Validator.messages[i]===void 0?this.Validator.messages.defaultMessage:this.Validator.formatMesssage(this.Validator.messages[i],e.requirements);t(this.ulError+" ."+n).length||(r[n]=s,this.addError(r))}},manageErrorContainer:function(){var e=this.options.errorContainer||this.options.errors.container(this.element,this.isRadioOrCheckbox),i=this.options.animate?this.ulTemplate.show():this.ulTemplate;return e!==void 0?(t(e).append(i),void 0):(this.isRadioOrCheckbox?this.$element.parent().after(i):this.$element.after(i),void 0)},addListener:function(t){for(var e in t)this.options.listeners[e]=t[e]},destroy:function(){this.$element.removeClass("parsley-validated"),this.reset().$element.off("."+this.type).removeData(this.type)}};var n=function(t,i,n){this.initMultiple(t,i),this.inherit(t,i),this.Validator=new e(i),this.init(t,n||"ParsleyFieldMultiple")};n.prototype={constructor:n,initMultiple:function(e,i){this.element=e,this.$element=t(e),this.group=i.group||!1,this.hash=this.getName(),this.siblings=this.group?'[data-group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]',this.isRadioOrCheckbox=!0,this.isRadio=this.$element.is("input[type=radio]"),this.isCheckbox=this.$element.is("input[type=checkbox]"),this.errorClassHandler=i.errors.classHandler(e,this.isRadioOrCheckbox)||this.$element.parent()},inherit:function(t,e){var n=new i(t,e,"ParsleyFieldMultiple");for(var r in n)this[r]===void 0&&(this[r]=n[r])},getName:function(){if(this.group)return"parsley-"+this.group;if(this.$element.attr("name")===void 0)throw"A radio / checkbox input must have a data-group attribute or a name to be Parsley validated !";return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\])/g,"")},getVal:function(){if(this.isRadio)return t(this.siblings+":checked").val()||"";if(this.isCheckbox){var e=[];return t(this.siblings+":checked").each(function(){e.push(t(this).val())}),e}},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type);var e=this,i=(this.options.trigger?this.options.trigger:"")+(RegExp("change","i").test(this.options.trigger)?"":" change");i=i.replace(/^\s+/g,"").replace(/\s+$/g,""),t(this.siblings).each(function(){t(this).on(i.split(" ").join("."+e.type+" "),!1,t.proxy(e.eventValidation,e))})}};var r=function(t,e,i){this.init(t,e,i||"parsleyForm")};r.prototype={constructor:r,init:function(e,i,n){this.type=n,this.items=[],this.$element=t(e),this.options=i;var r=this;this.$element.find(i.inputs).each(function(){r.addItem(this)}),this.$element.on("submit."+this.type,!1,t.proxy(this.validate,this))},addListener:function(t){for(var e in t)if(RegExp("Field").test(e))for(var i=0;this.items.length>i;i++)this.items[i].addListener(t);else this.options.listeners[e]=t[e]},addItem:function(e){if(t(e).is(this.options.excluded))return!1;var i=t(e).parsley(this.options);i.setParent(this),this.items.push(i)},removeItem:function(e){for(var i=t(e).parsley(),n=0;this.items.length>n;n++)if(this.items[n].hash===i.hash)return this.items[n].destroy(),this.items.splice(n,1),!0;return!1},validate:function(t){var e=!0;this.focusedField=!1;for(var i=0;this.items.length>i;i++)this.items[i]!==void 0&&!1===this.items[i].validate()&&(e=!1,(!this.focusedField&&"first"===this.options.focus||"last"===this.options.focus)&&(this.focusedField=this.items[i].$element));return this.focusedField&&!e&&this.focusedField.focus(),this.options.listeners.onFormSubmit(e,t,this),e},isValid:function(){for(var t=0;this.items.length>t;t++)if(!1===this.items[t].isValid())return!1;return!0},removeErrors:function(){for(var t=0;this.items.length>t;t++)this.items[t].parsley("reset")},destroy:function(){for(var t=0;this.items.length>t;t++)this.items[t].destroy();this.$element.off("."+this.type).removeData(this.type)},reset:function(){for(var t=0;this.items.length>t;t++)this.items[t].reset()}},t.fn.parsley=function(e,s){function o(o,l){var u=t(o).data(l);if(!u){switch(l){case"parsleyForm":u=new r(o,a,"parsleyForm");break;case"parsleyField":u=new i(o,a,"parsleyField");break;case"parsleyFieldMultiple":u=new n(o,a,"parsleyFieldMultiple");break;default:return}t(o).data(l,u)}if("string"==typeof e&&"function"==typeof u[e]){var h=u[e](s);return h!==void 0?h:t(o)}return u}var a=t.extend(!0,{},t.fn.parsley.defaults,window.ParsleyConfig!==void 0?window.ParsleyConfig:{},e,this.data()),l=null;return t(this).is("form")?l=o(t(this),"parsleyForm"):t(this).is(a.inputs)&&!t(this).is(a.excluded)&&(l=o(t(this),t(this).is("input[type=radio], input[type=checkbox]")?"parsleyFieldMultiple":"parsleyField")),"function"==typeof s?s():l},t.fn.parsley.Constructor=r,t.fn.parsley.defaults={inputs:"input, textarea, select",excluded:"input[type=hidden], :disabled",trigger:!1,animate:!0,animateDuration:300,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:!1,validators:{},showErrors:!0,messages:{},validateIfUnchanged:!1,errors:{classHandler:function(){},container:function(){},errorsWrapper:"<ul></ul>",errorElem:"<li></li>"},listeners:{onFieldValidate:function(){return!1},onFormSubmit:function(){},onFieldError:function(){},onFieldSuccess:function(){}}},t(window).on("load",function(){t('[data-validate="parsley"]').each(function(){t(this).parsley()})})}(window.jQuery||window.Zepto);
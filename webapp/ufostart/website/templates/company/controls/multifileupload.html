<%inherit file="hnc.forms:templates/basefield.html"/>
<%namespace name="lib" file="hnc.forms:templates/lib.html"/>

<%block name="controls">
    <div class="js-form-widget"  data-field-name="${widget.getName(prefix)}" data-module="libs/multifile">
        <script type="text/template" class="picture-template">
            ${self.templ('{{ field_name }}', '{{ pic.url }}')}
        </script>
        <div class="file-picker-upload ${'' if value else 'empty'}">
            %for v in value:
                ${self.templ(widget.getName(prefix), v['url'])}
            %endfor
            <input type="file" class="file-upload-btn" accept="image/*" multiple>
        </div>
        <div class="info">Drag & Drop Files here</div>
    </div>
</%block>


<%def name="templ(name, value)">
    <div class="picture"><img src="${value|n}"/><input type="hidden" name="${name|n}" value="${value|n}"/><span class="remove">Ã—</span></div>
</%def>